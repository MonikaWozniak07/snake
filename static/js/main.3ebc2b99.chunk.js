(this["webpackJsonpgame-snake"]=this["webpackJsonpgame-snake"]||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n,r,s,i=a(0),c=a(1),o=a.n(c),d=a(5),h=a.n(d),l=(a(15),a(6)),b=a(7),u=a(2),j=a(9),f=a(8);window.matchMedia("(max-width: 768px)").matches?(n=10,r=10,s=30):(n=15,r=15,s=30),window.addEventListener("resize",(function(e){e.preventDefault(),window.matchMedia("(max-width: 768px)").matches?(n=10,r=10,s=30):(n=15,r=15,s=30)}));var v=37,x=38,m=39,O=40,k={37:!0,38:!0,39:!0,40:!0};a(4);var p=function(e){for(var t=e.board,a=e.handleKey,c=[],o=0;o<n;o++)for(var d=0;d<r;d++){var h=r*o+d,l=t[h],b=1===l?"body-cell":2===l?"food-cell":"cell";c.push(Object(i.jsx)("div",{className:b},h))}return Object(i.jsxs)("div",{className:"wrapper",children:[Object(i.jsx)("div",{className:"board-container",children:Object(i.jsx)("div",{style:{width:r*s,height:n*s},tabIndex:0,onKeyDown:a,className:"board",children:c})}),Object(i.jsx)("footer",{children:Object(i.jsx)("p",{children:"Developed with \u2665 by Monika Wo\u017aniak "})})]})},y=function(e){Object(j.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleKey=function(e){var t=e.nativeEvent.keyCode,a=Math.abs(n.state.direction-t);k[t]&&0!==a&&2!==a&&(n.nextDirection=t)},n.state={board:[],snake:[],score:-1,direction:null,gameOver:!1},n.start=n.start.bind(Object(u.a)(n)),n.frame=n.frame.bind(Object(u.a)(n)),n.handleKey=n.handleKey.bind(Object(u.a)(n)),n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){this.start()}},{key:"start",value:function(){var e=this,t=[],a=[44];t[44]=1,this.setState({board:t,snake:a,direction:O},(function(){return e.frame()}))}},{key:"frame",value:function(){var e=this,t=this.state,a=t.snake,s=t.board,i=t.direction,c=this.getNextIndex(a[0],i),o=2===s[c]||1===a.length;if(-1===a.indexOf(c)){if(o){var d,h=n*r;do{d=Math.floor(Math.random()*h)}while(s[d]);s[d]=2,this.setState({score:this.state.score+1})}else s[a.pop()]=null;s[c]=1,a.unshift(c),this.nextDirection&&(i=this.nextDirection,this.nextDirection=null),this.setState({board:s,snake:a,direction:i},(function(){setTimeout(e.frame,200)}))}else this.setState({gameOver:!0})}},{key:"getNextIndex",value:function(e,t){var a=e%r,s=Math.floor(e/r);switch(t){case x:s=s<=0?n-1:s-1;break;case O:s=s>=n?0:s+1;break;case v:a=a<=0?r-1:a-1;break;case m:a=a>=r-1?0:a+1;break;default:return}return r*s+a}},{key:"render",value:function(){var e=this.state,t=e.board,a=e.score;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"text",children:[Object(i.jsx)("p",{className:"text-snake",children:"Snake"}),Object(i.jsxs)("span",{className:"score",children:["Wynik:",a]})]}),Object(i.jsx)(p,{handleKey:this.handleKey,board:t})]})}}]),a}(o.a.Component);var w=function(){return Object(i.jsx)("div",{className:"App",children:Object(i.jsx)(y,{})})};h.a.render(Object(i.jsx)(o.a.StrictMode,{children:Object(i.jsx)(w,{})}),document.getElementById("root"))},4:function(e,t,a){}},[[16,1,2]]]);
//# sourceMappingURL=main.3ebc2b99.chunk.js.map